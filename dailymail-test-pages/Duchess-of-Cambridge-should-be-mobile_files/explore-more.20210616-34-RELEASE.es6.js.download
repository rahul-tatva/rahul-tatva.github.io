/*! 20210616-34-RELEASE 2021-06-16 */

(()=>{const e="tbl-exm-appearance",t="tbl-exm-history";class o{constructor(e,t){this.trcManager=e,this.feedIsVisible=!1,this.maxPopupAppearanceNumber=3,this.referrer=this.trcManager.getReferrer(),this.isGoogleTraffic=this.wasReferredFromGoogle(),this.url=window.location.href,this.isDesktop=!TRC.Device.isTouchDevice,TRC.ExploreMorePlacement=t.exm.placement,this.setOptions(t),this.setCSS(),TRC.dispatch("ExploreMoreReady",this),this.googleTrafficActivationFeatureEnabled&&this.isGoogleTraffic?this.googleTrafficInitWrapper():this.init()}setOptions(e){const{exm:i,drp:r}=e;let s=null;this.titleText=o.getTranslatedTextBySiteLanguage(i.title,"TITLE_TEXT"),this.css=i.css||"",this.popupBackgroundColor=i.popupBackgroundColor||"#0279f5",this.popupTextColor=i.popupTextColor||"#ffffff",this.popupTextMessage=o.getTranslatedTextBySiteLanguage(i.popupText,"POPUP_TEXT"),this.headerSelector=i.headerSelector||"header",this.siteHeader=document.querySelector(this.headerSelector),this.shouldNotCopyPublisherHeaderHtml=i.shouldNotCopyPublisherHeaderHtml||!1,this.feedContainer=i.container?document.getElementById(i.container):null,this.feedContainerWidth=`${i.feedContainerWidth||"85"}%`;const{global:a}=this.trcManager;r&&r["explore-more"]&&(s=__trcUnJSONify(r["explore-more"]));const l=a["enable-explore-more-state-check"],n=a["set-explore-more-state-check-interval-time"];if(i.addStateCheck=l||i.addStateCheck,i.stateCheckIntervalTime=n||i.stateCheckIntervalTime,this.stateCheck={enable:i.addStateCheck||!1,IntervalTime:i.stateCheckIntervalTime||200,intervalId:0},this.enableExploreMoreVideo=s&&s["enable-explore-more-video"]||a["enable-explore-more-video"],this.disableExploreMoreVideoReset=s&&s["disable-explore-more-video-reset"]||a["disable-explore-more-video-reset"],this.disableHistoryCheck=s&&s["disable-explore-more-history-check"]||a["disable-explore-more-history-check"],!this.disableHistoryCheck){if(window.sessionStorage){const e=sessionStorage.getItem(t);this.sessionHistory=e?__trcUnJSONify(e):{}}o.updateReloadState()}this.googleTrafficActivationFeatureEnabled=o.isGoogleTrafficFeatureEnabled(s),this.googleTrafficActivationFeatureEnabled&&this.isGoogleTraffic&&(s=s||{},this.googleModeActivateByClick=TRC.util.isTrue(s.googleModeActivateByClick),this.googleModeActivateByTimer=void 0===s.googleModeActivateByTimer||TRC.util.isTrue(s.googleModeActivateByTimer),this.googleModeActivationTimerLength=1e3*parseInt(s.googleModeActivationTimerLengthInSeconds,10)||1e3*parseInt(a["explore-more-google-timer"],10)||2e4)}static updateReloadState(){const e={count:0};if(history.state)if(void 0===history.state.count){const{state:t}=history;let o={};e.count++,o=TRC.util.merge(o,t,e),history.replaceState(o,"")}else{const{state:e}=history;e.count++,history.replaceState(e,"")}else e.count++,history.replaceState(e,"")}static getTranslatedTextBySiteLanguage(e,t){return e||(TRC.translationManager.getLabel({feature:"explore-more",label:t})||e)}googleTrafficInitWrapper(){this.googleModeActivateByClick&&this.activateClickListener(),this.googleModeActivateByTimer&&this.startTimer()}startTimer(){this.activationTimer=TRC.Timeout.set(this.timeoutHandler.trcBind(this),this.googleModeActivationTimerLength)}activateExploreMoreAndTurnOffListeners(){this.clearGoogleTrafficTriggers(),this.init()}clickHandler(){this.activateExploreMoreAndTurnOffListeners()}timeoutHandler(){this.activateExploreMoreAndTurnOffListeners()}activateClickListener(){this.boundClickHandler=this.clickHandler.trcBind(this),TRC.dom.on(window,"click",this.boundClickHandler)}clearGoogleTrafficTriggers(){this.googleModeActivateByClick&&TRC.dom.off(window,"click",this.boundClickHandler),this.googleModeActivateByTimer&&TRC.Timeout.clear(this.activationTimer)}static isGoogleTrafficFeatureEnabled(e){return null===e||void 0===e.googleTrafficActivationFeatureEnabled||TRC.util.isTrue(e.googleTrafficActivationFeatureEnabled)}wasReferredFromGoogle(){const e=this.getHostname(),t=/^(.+\.|(.+)?\/)?google\./;return null!==e.match(t)}getHostname(){let e=this.referrer.indexOf("//")>-1?this.referrer.split("/")[2]:this.referrer.split("/")[0];return[e]=e.split(":"),[e]=e.split("?"),e}setCSS(){const{headerSelector:e,popupBackgroundColor:t,popupTextColor:o,feedContainerWidth:i}=this;TRC.dom.injectStyle(`#tbl-explore-more-container { display: none; position: relative; margin-top: 0; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; } #tbl-explore-more-container .tbl-explore-more-site-header { z-index: 2147483647; left: 0; right: 0; } #tbl-explore-more-container .tbl-feed-header { display: none; } #tbl-explore-more-container #tbl-explore-more-title { font-weight: bold; font-size: 24px; padding: 20px 8px; color: #222222; } #tbl-explore-more-container .tbl-explore-more-popup { transition: all 0.5s ease; opacity: 0; transform: translateY(-1200px); position: absolute; width: 100%; left: 0; z-index: 999999999; background: ${t}; } #tbl-explore-more-container .tbl-explore-more-popup.tbl-explore-more-popup-show { transform: translateY(15px); opacity: 1; } #tbl-explore-more-container .tbl-explore-more-popup .tbl-explore-more-popup-text { padding: 13px 35px 13px 9px; font-size: 13.5px; color: ${o}; } #tbl-explore-more-container .tbl-explore-more-popup .tbl-explore-more-triangle { display: block; position: absolute; bottom: -11px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 12px solid transparent; border-right: 12px solid transparent; border-top: 12px solid; color: ${t}; } #tbl-explore-more-container .tbl-explore-more-popup .tbl-explore-more-popup-closeBtn-wrapper { -ms-transform: translateY(-50%); transform: translateY(-50%); position: absolute; top: 50%; right: 11px; width: 11px; z-index: 2; color: ${o}; } #tbl-explore-more-container.tbl-exm-desktop .trc_multi_widget_container { padding-bottom: 22px; } #tbl-explore-more-container.tbl-exm-desktop .tbl-explore-more-popup.tbl-explore-more-popup-show { z-index: 1; } #tbl-explore-more-container.tbl-exm-desktop .tbl-explore-more-popup.tbl-explore-more-popup-show, #tbl-explore-more-container.tbl-exm-desktop #tbl-explore-more-title { width: 100%; } #tbl-explore-more-container.tbl-exm-desktop .tbl-explore-more-popup-show { transform: translateY(0px); opacity: 1; bottom: 10px; text-align: center; top: inherit; } #tbl-explore-more-container.tbl-exm-desktop .tbl-title-and-pop-wrp { position: relative; } #tbl-explore-more-container.tbl-exm-desktop .tbl-title-and-pop-wrp, #tbl-explore-more-container.tbl-exm-desktop .tbl-feed-card, #tbl-explore-more-container.tbl-exm-desktop .tbl-loading-cards-placeholder { width: ${i}; max-width: 1000px; min-width: 800px; margin-right: auto; margin-left: auto; clear: both; }body.tbl-show-explore-more.tbl-explore-more-show-original-header > *:not(#tbl-explore-more-container):not(${e}):not(.trc_popover_aug_container) { display: none; }body.tbl-show-explore-more.tbl-explore-more-hide-original-header > *:not(#tbl-explore-more-container):not([id='_cm-css-reset']):not(.trc_popover_aug_container) { display: none; }body.tbl-show-explore-more.tbl-explore-more-hide-original-header > *:not([id='_cm-css-reset']):not(.trc_popover_aug_container) { display: none; }body.tbl-show-explore-more #tbl-explore-more-container { display: block; } ${this.css}`,null),this.feedContainer&&TRC.dom.removeClass(this.feedContainer,"tbl-invisible")}shouldAddToHistory(){const{state:e}=history;if(e&&e.tblShouldDisplayFeed&&"number"==typeof e.count&&e.count>0)return!1;const t=this.sessionHistory&&this.sessionHistory[this.url],o=!e||void 0===e.feedViewEventName;return this.disableHistoryCheck||!t&&o}static checkHistoryState(){history.state&&"feed-view-init"===history.state.feedViewEventName&&history.go(-1)}init(){this.feedContainer?(this.shouldAddToHistory()?this.addNewHistoryEntries():o.checkHistoryState(),this.listenToPopState(),this.createAndInjectNewHtml(),this.handleFeedContainerAndPublisherHeaderStyle()):__trcWarn("ExploreMoreModule: TryingToInitializeExploreMoreExperienceButNoFeedFound")}createAndInjectNewHtml(){this.isDesktop&&this.exploreMoreOnDesktop(),this.feedContainer.insertAdjacentHTML("afterbegin",this.createNewElements()),this.addEventsListenersToInjectedElements()}exploreMoreOnDesktop(){TRC.dom.addClass(this.feedContainer,"tbl-exm-desktop")}handleFeedContainerAndPublisherHeaderStyle(){if(this.shouldNotCopyPublisherHeaderHtml)return;const e=this.getSiteHeaderStyle();if(e&&"fixed"!==e.position&&"absolute"!==e.position){const e=getComputedStyle(this.feedContainer).paddingLeft,t=this.feedContainer.querySelector(this.headerSelector);t&&(t.style=`margin-left: -${e}; margin-right: -${e};`)}}createNewElements(){const e=`<div id="tbl-explore-more-title">${this.titleText}</div>`,t=o.shouldDisplayPopupMessage()?this.createPopUpMessageElement():"";let i=`${t} ${e}`;const r=this.shouldCreateHeaderPlaceholder()?this.createHeaderPlaceholderElement():"",s=this.shouldNotCopyPublisherHeaderHtml?"":this.tryGetPublisherHeaderHtml();return this.isDesktop&&(i=`<div class="tbl-title-and-pop-wrp">${t} ${e}</div>`),`${s} ${r} ${i}`}tryGetPublisherHeaderHtml(){return this.siteHeader&&this.siteHeader.outerHTML?(TRC.dom.addClass(this.siteHeader,o.CSS_CLASSES.SITE_HEADER),this.siteHeader.outerHTML):""}addEventsListenersToInjectedElements(){this.popup=this.feedContainer.querySelector(`.${o.CSS_CLASSES.POPUP}`),this.popup&&TRC.dom.on(this.popup,"click",this.handlePopupCloseBtnClick.trcBind(this))}getSiteHeaderStyle(){return void 0!==this.siteHeaderStyle?this.siteHeaderStyle:this.siteHeaderStyle=this.siteHeader&&getComputedStyle(this.siteHeader)}createHeaderPlaceholderElement(){const e=`width: ${this.getSiteHeaderStyle().width}; height: ${this.getSiteHeaderStyle().height}`;return`<div class="${o.CSS_CLASSES.HEADER_PLACEHOLDER}" style="${e}"></div>`}shouldCreateHeaderPlaceholder(){return this.siteHeader&&"fixed"===this.getSiteHeaderStyle().position}createPopUpMessageElement(){return`\n              <div class=${o.CSS_CLASSES.POPUP}>\n                  <div class=${o.CSS_CLASSES.POPUP_TEXT}>${this.popupTextMessage}</div>\n                  <div class=${o.CSS_CLASSES.POPUP_TRIANGLE}></div>\n                  <div class=${o.CSS_CLASSES.CLOSE_BTN_WRAPPER}> \n                      ${this.getCloseButtonMarkup()}\n                  </div>\n              </div>\n          `}handlePopupCloseBtnClick(){TRC.dom.removeClass(this.popup,o.CSS_CLASSES.SHOW_POPUP)}static getVisibilityCounterDataFromLocalStorage(){return __trcUnJSONify(localStorage.getItem(e))||{visibleCounter:0}}static shouldDisplayPopupMessage(){const{publisherId:e,visibleCounter:t}=o.getVisibilityCounterDataFromLocalStorage();return e!==TRC.publisherId||e===TRC.publisherId&&t<3}updatePopupMessageCounterOnLocalStorage(){let{visibleCounter:t}=o.getVisibilityCounterDataFromLocalStorage();t<this.maxPopupAppearanceNumber&&(t=t?++t:1,localStorage.setItem(e,JSON.stringify({publisherId:TRC.publisherId,visibleCounter:t})))}shouldDisplayFeed(){return history.state&&history.state.tblShouldDisplayFeed&&!this.feedIsVisible}setHistoryModified(e){window.sessionStorage&&(this.sessionHistory[this.url]=e,sessionStorage.setItem(t,JSON.stringify(this.sessionHistory)))}addNewHistoryEntries(){this.originalPublisherHistoryState=history.state,o.isFacebookAndroid()?history.pushState(o.HISTORY_STATE.DISPLAY_FEED_PAGE,""):history.replaceState(o.HISTORY_STATE.DISPLAY_FEED_PAGE,""),history.pushState(this.originalPublisherHistoryState,""),this.setHistoryModified(!0)}listenToPopState(){TRC.dom.on(window,"popstate",this.handlePopstateEvent.trcBind(this)),o.isPageLoading()&&this.stateCheck.enable&&this.startStateIntervalCheck(this.handlePopstateEvent.trcBind(this))}handleBeforeUnload(){this.setHistoryModified(!1)}static isPageLoading(){return"complete"!==document.readyState}static isFacebookAndroid(e){const t=e||navigator.userAgent||navigator.vendor||window.opera;return(t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1)&&t.indexOf("Android")>-1}startStateIntervalCheck(e){this.stateCheck.intervalId=TRC.Interval.set(()=>{o.isPageLoading()||(this.stateCheck.enable=!1,TRC.Interval.clear(this.stateCheck.intervalId)),history.state&&history.state.tblShouldDisplayFeed&&this.stateCheck.enable&&(e(),TRC.Interval.clear(this.stateCheck.intervalId))},this.stateCheck.IntervalTime)}handlePopstateEvent(){this.stateCheck.enable=!1,this.shouldDisplayFeed()&&(this.displayFeed(),TRC.dom.on(window,"beforeunload",this.handleBeforeUnload.trcBind(this)))}addExploreMoreClassToBody(){const e=this.shouldNotCopyPublisherHeaderHtml?o.CSS_CLASSES.SHOW_ORIGINAL_HEADER:o.CSS_CLASSES.HIDE_ORIGINAL_HEADER,t=`${o.CSS_CLASSES.SHOW} ${e}`;TRC.dom.addClass(document.body,t)}displayFeed(){if(this.feedContainer){if(TRC.dispatch("ExploreMoreLoaded",this),this.disableExploreMoreVideoReset||TRC.dispatch("videoReset"),this.enableExploreMoreVideo){const e={eventName:"exploreMore",containerSelector:`#${this.feedContainer.id}`,placement:TRC.ExploreMorePlacement};TRC.dispatch("feedContainerChanged",e)}this.addExploreMoreClassToBody(),setTimeout(()=>{document.body.scrollTop=document.documentElement.scrollTop=0},0),this.handlePopupMessage(),this.feedIsVisible=!0}else this.trcManager.sendAbTestEvent("noFeedToShow","noFeedToShow")}handlePopupMessage(){this.popup&&setTimeout(()=>{TRC.dom.addClass(this.popup,o.CSS_CLASSES.SHOW_POPUP),this.updatePopupMessageCounterOnLocalStorage()},200)}getCloseButtonMarkup(){return`<div class="${o.CSS_CLASSES.CLOSE_BTN}">\n                      <svg width="11" height="11" viewBox="0 0 11 11">\n                          <path fill=${this.popupTextColor}  fill-rule="evenodd" d="M10.34.038L5.5 4.878.66.038.038.66l4.84 4.84-4.84 4.84.622.622 4.84-4.84 4.84 4.84.622-.622-4.84-4.84 4.84-4.84z"></path>\n                      </svg>\n                  </div>`}static shouldSkipPlacement(e,t,o){return e.fpl&&t.trc.f[e.fpl]&&t.trc.f[e.fpl].exm&&!o.feeds[e.fpl]}static shouldSkipPushedRequest(e){return TRC.ExploreMorePlacement=TRC.ExploreMorePlacement||"Explore More",TRC.ExploreMore.exploreMoreIsVisible()&&!e[TRC.ExploreMorePlacement]}static exploreMoreIsVisible(){return document.body.className.indexOf(o.CSS_CLASSES.SHOW)>-1}}o.CSS_CLASSES={SHOW:"tbl-show-explore-more",SHOW_POPUP:"tbl-explore-more-popup-show",POPUP:"tbl-explore-more-popup",POPUP_TEXT:"tbl-explore-more-popup-text",POPUP_TRIANGLE:"tbl-explore-more-triangle",HEADER_PLACEHOLDER:"tbl-explore-more-fixed-header-placeholder",CLOSE_BTN:"tbl-explore-more-popup-closeBtn",CLOSE_BTN_WRAPPER:"tbl-explore-more-popup-closeBtn-wrapper",SHOW_ORIGINAL_HEADER:"tbl-explore-more-show-original-header",HIDE_ORIGINAL_HEADER:"tbl-explore-more-hide-original-header",SITE_HEADER:"tbl-explore-more-site-header"},o.HISTORY_STATE={ORIGINAL_PAGE:{tblPreExploreMoreExperience:!0},DISPLAY_FEED_PAGE:{tblShouldDisplayFeed:!0}},o.MESSAGES={en:{TITLE_TEXT:"Keep on reading",POPUP_TEXT:"More stories to check out before you go"},fr:{TITLE_TEXT:"Continuer à lire",POPUP_TEXT:"Avant de nous quitter, voici des contenus qui pourraient vous intéresser"},es:{TITLE_TEXT:"Sigue leyendo",POPUP_TEXT:"Haz un vistazo a este contenido antes de partir"},jp:{TITLE_TEXT:"続きを読む",POPUP_TEXT:"あなたにおすすめのコンテンツ"},pt:{TITLE_TEXT:"Continue lendo",POPUP_TEXT:"Antes de sair, veja o que encontramos pra você"},de:{TITLE_TEXT:"Weiterlesen",POPUP_TEXT:"Schau dir diesen interessanten Inhalt an, bevor du gehst"},he:{TITLE_TEXT:"המשיכו לקרוא",POPUP_TEXT:"אל תפספסו הזדמנות לקרוא עוד תוכן מעולה, רגע לפני שתעזבו"},"tb-jp":{TITLE_TEXT:"続きを読む",POPUP_TEXT:"あなたにおすすめのコンテンツ"},it:{TITLE_TEXT:"Continua a leggere",POPUP_TEXT:'Prima di abbandonare la pagina dai un"occhiata a questi interessanti contenuti'},el:{TITLE_TEXT:"Δείτε Επίσης",POPUP_TEXT:"Πριν φύγετε, διαβάστε ακόμη"},ko:{TITLE_TEXT:"계속 읽어보세요",POPUP_TEXT:"당신이 떠나기 전에 이 굉장한 컨텐츠를 살펴보세요"},tr:{TITLE_TEXT:"Okumaya Devam Et",POPUP_TEXT:"Çıkmadan en yeni haberleri okumaya devam et!"},ru:{TITLE_TEXT:"Продолжить чтение",POPUP_TEXT:"Прежде чем уйти, посмотрите на этот интересный контент"},ar:{TITLE_TEXT:"اقرأ على",POPUP_TEXT:"لا تفوت فرصة قراءة المزيد من المحتوى الرائع ، قبل مغادرتك"},nl:{TITLE_TEXT:"Lees meer",POPUP_TEXT:"Bekijk deze artikelen voordat je verder gaat"},ro:{TITLE_TEXT:"Continuați să citiți",POPUP_TEXT:"Înainte de a ne părăsi, iată câteva conținuturi care ar putea să vă intereseze"},pl:{TITLE_TEXT:"Czytaj dalej",POPUP_TEXT:"Zanim opuścisz tą stronę, sprawdź najpopularniesze artykuły wybrane dla Ciebie"},th:{TITLE_TEXT:"อ่านต่อ",POPUP_TEXT:"อ่านเรื่องอื่น ๆ ที่น่าสนใจเพิ่มเติม"},hu:{TITLE_TEXT:"Ez is érdekelhet",POPUP_TEXT:"Mielőtt visszalépnél, itt van néhány tartalom, ami érdekelhet"},hi:{TITLE_TEXT:"पढ़ते रहें",POPUP_TEXT:"जाने से पहले इस बड़ी खबर को पढ़ें"},"zh-CN":{TITLE_TEXT:"继续阅读",POPUP_TEXT:"在你离开之前能够看到这些优质的内容"},"zh-TW":{TITLE_TEXT:"继续阅读",POPUP_TEXT:"在你离开之前能够看到这些优质的内容"},da:{TITLE_TEXT:"Fortsæt læsning",POPUP_TEXT:"Før du forlader os, er der nogle indhold, der kan interessere dig"},no:{TITLE_TEXT:"Fortsett å lese",POPUP_TEXT:"Før du forlater oss, er det noen innhold som kan interessere deg"},id:{TITLE_TEXT:"Lanjutkan membaca",POPUP_TEXT:"Sebelum meninggalkan kami, berikut adalah beberapa konten yang mungkin menarik bagi Anda"},vi:{TITLE_TEXT:"Tiếp tục đọc",POPUP_TEXT:"Trước khi rời khỏi chúng tôi, đây là một số nội dung có thể bạn quan tâm"},sv:{TITLE_TEXT:"Fortsätt läsa",POPUP_TEXT:"Kolla in dessa topprapporter innan du lämnar"},fi:{TITLE_TEXT:"Jatka lukemista",POPUP_TEXT:"Ennen kuin jätät meidät, tässä on joitakin sisältöä, joka saattaa kiinnostaa sinua"},bg:{TITLE_TEXT:"Продължавайте да четете",POPUP_TEXT:"Вижте и тези новини преди да"},ta:{TITLE_TEXT:"தொடர்ந்து படிக்கவும்",POPUP_TEXT:"எங்களை விட்டுச் செல்வதற்கு முன், உங்களுக்கு விருப்பமான சில உள்ளடக்கங்கள் இங்கே"},ms:{TITLE_TEXT:"Teruskan membaca",POPUP_TEXT:"Sebelum meninggalkan kami, berikut adalah beberapa kandungan yang mungkin menarik minat anda"},cs:{TITLE_TEXT:"Pokračujte ve čtení",POPUP_TEXT:"Než nás opustíte, zde je nějaký obsah, který by vás mohl zajímat"},ge:{TITLE_TEXT:"Keep on reading",POPUP_TEXT:"Check out these top stories before you leave"},"pt-br":{TITLE_TEXT:"Continue lendo",POPUP_TEXT:"Antes de sair, veja o que encontramos pra você"},sk:{TITLE_TEXT:"Pokračujte v čítaní",POPUP_TEXT:"Pred odchodom nás tu nájdete obsah, ktorý by vás mohol zaujímať"}},TRC._translationQueue=TRC._translationQueue||[],TRC._translationQueue.push({"explore-more":o.MESSAGES}),TRC.ExploreMore=o})();