function testProperty(e,t){for(var n=t.split("."),r=0,o=n.length;r<o;r++){var i=n[r];if(!(null!==e&&"object"==typeof e&&i in e))return!1;e=e[i]}return!0}function getShareUrl(e,t,n){return e+"?ito="+n+"#"+t}function overlayAdImpression(){var e=document.getElementById("fff_overlay");e&&!e.classList.contains("impression_registered")&&(e.classList.add("impression_registered"),AdImpression.registerImpression(document.getElementById("fff_overlay"),function(){DM.Log.log("ad impression registered")}))}!function(e,t){if("object"==typeof exports&&exports)t(exports);else{var n={};t(n),"function"==typeof define&&define.amd?define(n):e.Mustache=n}}(this,function(e){function t(e,t){return y.call(e,t)}function n(e){return!t(m,e)}function r(e){return"function"==typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e){return String(e).replace(/[&<>"'\/]/g,function(e){return b[e]})}function a(e){if(!E(e)||2!==e.length)throw new Error("Invalid tags: "+e);return[new RegExp(o(e[0])+"\\s*"),new RegExp("\\s*"+o(e[1]))]}function l(t,r){r=r||e.tags,t=t||"","string"==typeof r&&(r=r.split(p));for(var i,l,d,u,m,y,w=a(r),E=new f(t),b=[],I=[],C=[],A=!1,M=!1;!E.eos();){if(i=E.pos,d=E.scanUntil(w[0]))for(var T=0,k=d.length;T<k;++T)u=d.charAt(T),n(u)?C.push(I.length):M=!0,I.push(["text",u,i,i+1]),i+=1,"\n"===u&&function(){if(A&&!M)for(;C.length;)delete I[C.pop()];else C=[];A=!1,M=!1}();if(!E.scan(w[0]))break;if(A=!0,l=E.scan(v)||"name",E.scan(F),"="===l?(d=E.scanUntil(g),E.scan(g),E.scanUntil(w[1])):"{"===l?(d=E.scanUntil(new RegExp("\\s*"+o("}"+r[1]))),E.scan(h),E.scanUntil(w[1]),l="&"):d=E.scanUntil(w[1]),!E.scan(w[1]))throw new Error("Unclosed tag at "+E.pos);if(m=[l,d,i,E.pos],I.push(m),"#"===l||"^"===l)b.push(m);else if("/"===l){if(!(y=b.pop()))throw new Error('Unopened section "'+d+'" at '+i);if(y[1]!==d)throw new Error('Unclosed section "'+y[1]+'" at '+i)}else"name"===l||"{"===l||"&"===l?M=!0:"="===l&&(w=a(r=d.split(p)))}if(y=b.pop())throw new Error('Unclosed section "'+y[1]+'" at '+E.pos);return c(s(I))}function s(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function c(e){for(var t,n,r=[],o=r,i=[],a=0,l=e.length;a<l;++a)switch(t=e[a],t[0]){case"#":case"^":o.push(t),i.push(t),o=t[4]=[];break;case"/":n=i.pop(),n[5]=t[2],o=i.length>0?i[i.length-1][4]:r;break;default:o.push(t)}return r}function f(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=null==e?{}:e,this.cache={".":this.view},this.parent=t}function u(){this.cache={}}var F=/\s*/,p=/\s+/,m=/\S/,g=/\s*=/,h=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/,y=RegExp.prototype.test,w=Object.prototype.toString,E=Array.isArray||function(e){return"[object Array]"===w.call(e)},b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(t&&0===t.index){var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n}return""},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var t;if(e in this.cache)t=this.cache[e];else{for(var n=this;n;){if(e.indexOf(".")>0){t=n.view;for(var o=e.split("."),i=0;null!=t&&i<o.length;)t=t[o[i++]]}else t=n.view[e];if(null!=t)break;n=n.parent}this.cache[e]=t}return r(t)&&(t=t.call(this.view)),t},u.prototype.clearCache=function(){this.cache={}},u.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=l(e,t)),r},u.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof d?t:new d(t);return this.renderTokens(r,o,n,e)},u.prototype.renderTokens=function(t,n,o,i){function a(e){return f.render(e,n,o)}for(var l,s,c="",f=this,d=0,u=t.length;d<u;++d)switch(l=t[d],l[0]){case"#":if(!(s=n.lookup(l[1])))continue;if(E(s))for(var F=0,p=s.length;F<p;++F)c+=this.renderTokens(l[4],n.push(s[F]),o,i);else if("object"==typeof s||"string"==typeof s)c+=this.renderTokens(l[4],n.push(s),o,i);else if(r(s)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");s=s.call(n.view,i.slice(l[3],l[5]),a),null!=s&&(c+=s)}else c+=this.renderTokens(l[4],n,o,i);break;case"^":s=n.lookup(l[1]),(!s||E(s)&&0===s.length)&&(c+=this.renderTokens(l[4],n,o,i));break;case">":if(!o)continue;s=r(o)?o(l[1]):o[l[1]],null!=s&&(c+=this.renderTokens(this.parse(s),n,o,s));break;case"&":s=n.lookup(l[1]),null!=s&&(c+=s);break;case"name":s=n.lookup(l[1]),null!=s&&(c+=e.escape(s));break;case"text":c+=l[1]}return c},e.name="mustache.js",e.version="0.8.1",e.tags=["{{","}}"];var I=new u;e.clearCache=function(){return I.clearCache()},e.parse=function(e,t){return I.parse(e,t)},e.render=function(e,t,n){return I.render(e,t,n)},e.to_html=function(t,n,o,i){var a=e.render(t,n,o);if(!r(i))return a;i(a)},e.escape=i,e.Scanner=f,e.Context=d,e.Writer=u}),window.DM||(window.DM={Log:{log:function(){console.log.apply(null,arguments)}}});var pageCriteria=DM.molFePageMetadata&&DM.molFePageMetadata.getPageCriteria()||{};"liveint-us.andintweb.dmgt.net"!==window.location.hostname&&"localhost-us"!==window.location.hostname||(void 0!==pageCriteria&&pageCriteria?pageCriteria.geo="US":window.FFF.parent.pageCriteriaGeo="US");var getGeoUrlParameter=function(e){return e&&"us"===e.toLowerCase()?"&geo=us":"&geo=gb"},getPageCriteriaArticleId=function(){return pageCriteria.articleId||window.FFF.parent.articleId},getPageCriteriaGeo=function(){return pageCriteria.geo&&pageCriteria.geo.toLowerCase()||window.FFF.parent.pageCriteriaGeo.toLowerCase()},onImageError=function(e){e.setAttribute("src","https://i.dailymail.co.uk/i/furniture/fff/hub/placeholder.png"),e.setAttribute("onerror","")},getFFFInlineTrackingMetadata=function(){var e=document.getElementsByClassName("fff-partial"),t=document.getElementsByClassName("fff-m-inline"),n=document.getElementsByClassName("fff-inline");return e&&e.length?{type:"inline-partial",selector:".fff-inline .fff-popup",fffInline:e[0]}:t&&t.length?{type:"inline",selector:".fff-m-inline.fff-m-popup",fffInline:t[0]}:n&&n.length?{type:"inline",selector:".fff-inline .fff-popup",fffInline:n[0]}:null};window.FFF.getFFFInlineTrackingMetadata=getFFFInlineTrackingMetadata,window.FFF.getGeoUrlParameter=getGeoUrlParameter,window.FFF.getPageCriteriaArticleId=getPageCriteriaArticleId,window.FFF.getPageCriteriaGeo=getPageCriteriaGeo,window.FFF.onImageError=onImageError,TINY={},TINY.box=function(){var e,t,n,r,o,i=0;return{show:function(a){o={fade:!0,opacity:70,close:1,animate:1,fixed:1,mask:1,maskid:"",boxid:"",innerid:"",topsplit:2,url:0,post:0,height:0,width:0,html:0,iframe:0};for(var l in a)o[l]=a[l];i?(e.style.display="none",clearTimeout(i.ah),r.v&&(i.removeChild(r),r.v=0)):(e=document.createElement("div"),e.className="tbox",i=document.createElement("div"),i.className="tinner",n=document.createElement("div"),n.className="tcontent",t=document.createElement("div"),t.className="tmask",r=document.createElement("div"),r.className="tclose",r.v=0,document.body.appendChild(t),document.body.appendChild(e),e.appendChild(i),i.appendChild(n),t.onclick=r.onclick=function(e){e?e.stopPropagation():window.event.cancelBubble=!0,TINY.box.hide()},window.onresize=TINY.box.resize),e.className="tbox "+o.innerclass,i.id=o.boxid,t.id=o.maskid,e.style.position=o.fixed?"fixed":"absolute",o.html&&!o.animate?(i.style.backgroundImage="none",n.innerHTML=o.html,n.style.display="",i.style.width=o.width?o.width+"px":"auto",i.style.height=o.height?o.height+"px":"auto"):(n.style.display="none",!o.animate&&o.width&&o.height?(i.style.width=o.width+"px",i.style.height=o.height+"px"):i.style.width=i.style.height="100px"),o.mask?(this.mask(),this.alpha(t,1,o.opacity)):this.alpha(e,1,100),o.autohide?i.ah=setTimeout(TINY.box.hide,1e3*o.autohide):document.onkeyup=TINY.box.esc},fill:function(e,t,n,r,a,l){if(t)if(o.image){var s=new Image;s.onload=function(){a=a||s.width,l=l||s.height,TINY.box.psh(s,r,a,l)},s.src=o.image}else if(o.iframe)this.psh('<iframe src="'+o.iframe+'" width="'+o.width+'" frameborder="0" height="'+o.height+'"></iframe>',r,a,l);else{var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(i.style.backgroundImage="",TINY.box.psh(c.responseText,r,a,l))},n?(c.open("POST",e,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(n)):(c.open("GET",e,!0),c.send(null))}else this.psh(e,r,a,l)},psh:function(e,t,r,o){"object"==typeof e?n.appendChild(e):n.innerHTML=e;var a=i.style.width,l=i.style.height;r&&o||(i.style.width=r?r+"px":"",i.style.height=o?o+"px":"",n.style.display="",o||(o=parseInt(n.offsetHeight)),r||(r=parseInt(n.offsetWidth)),n.style.display="none"),i.style.width=a,i.style.height=l,this.size(r,o,t)},esc:function(e){e=e||window.event,27==e.keyCode&&TINY.box.hide()},hide:function(){o.closejs?o.closejs():(TINY.box.alpha(e,-1,0,3),document.onkeypress=null)},closetbox:function(){TINY.box.alpha(e,-1,0,3),document.onkeypress=null},resize:function(){TINY.box.pos(),TINY.box.mask()},mask:function(){},pos:function(){var t;void 0!==o.top?t=o.top:(t=this.height()/o.topsplit-e.offsetHeight/2,t=t<20?20:t),o.fixed||o.top||(t+=this.top()),e.style.top=t+"px",e.style.left=void 0!==o.left?o.left+"px":this.width()/2-e.offsetWidth/2+"px"},alpha:function(e,t,n){if(e){if(clearInterval(e.ai),t){var r=o.fade?0:n/100;e.style.opacity=r,e.style.filter="alpha(opacity="+100*r+")",e.style.display="block",TINY.box.pos()}e.ai=setInterval(function(){TINY.box.ta(e,n,t)},20)}},ta:function(r,a,l){var s=Math.round(100*r.style.opacity);if(s==a)clearInterval(r.ai),-1==l?(r.style.display="none",r==e?TINY.box.alpha(t,-1,0,2):n.innerHTML=i.style.backgroundImage=""):r==t?this.alpha(e,1,100):(e.style.filter="",TINY.box.fill(o.html||o.url,o.url||o.iframe||o.image,o.post,o.animate,o.width,o.height));else{var c=a-Math.floor(.5*Math.abs(a-s))*l;r.style.opacity=c/100,r.style.filter="alpha(opacity="+c+")"}},size:function(e,t,a){if(a){clearInterval(i.si);var l=parseInt(i.style.width)>e?-1:1,s=parseInt(i.style.height)>t?-1:1;i.si=setInterval(function(){TINY.box.ts(e,l,t,s)},20)}else i.style.backgroundImage="none",o.close&&(i.appendChild(r),r.v=1),i.style.width=e+"px",i.style.height=t+"px",n.style.display="",this.pos(),o.openjs&&o.openjs()},ts:function(e,t,a,l){var s=parseInt(i.style.width),c=parseInt(i.style.height);s==e&&c==a?(clearInterval(i.si),i.style.backgroundImage="none",n.style.display="block",o.close&&(i.appendChild(r),r.v=1),o.openjs&&o.openjs()):(s!=e&&(i.style.width=e-Math.floor(.6*Math.abs(e-s))*t+"px"),c!=a&&(i.style.height=a-Math.floor(.6*Math.abs(a-c))*l+"px"),this.pos())},top:function(){return document.documentElement.scrollTop||document.body.scrollTop},width:function(){return self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function(){return self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},total:function(e){var t=document.body,n=document.documentElement;return e?Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.clientHeight,n.clientHeight)):Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.clientWidth,n.clientWidth))}}}(),function(){function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){return o(t[a][1][e]||e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){var r,o=window.FFF.getFFFInlineTrackingMetadata(),i=DM.molFePageMetadata.getPageMetadata(),a=function(){return o.fffInline.getAttribute("data-fff_url")},l=function(e){var t=a();o&&e[t]&&window.FFF.bindCarouselTrackingEvents(t,o.selector,"article")},s=function(){Array.from(document.getElementsByClassName("loader")).forEach(function(e){e.classList.add("hidden")}),Array.from(document.getElementsByClassName("fff-carousel-with-controls")).forEach(function(e){e.classList.remove("hidden")})},c=function(e,t,n){"mobile"===i.renderPlatform&&g(t,n),l(e),s()},f=function(e){return null!==e.closest(".fff-inline.fff-xwide")},d=function(e){return f(e)||"mobile"===i.renderPlatform?2:3},u=function(e,t,n){function o(e,t){e.apply(null,t),r=null}r&&clearTimeout(r),r=setTimeout(function(){o(e,t)},n)},F=function(){var e=document.querySelector(".fff-m-inline.fff-m-popup");return e?parseInt(getComputedStyle(e).width,10):0},p=function(e,t){if(e){var n=e.querySelectorAll("li"),r=Math.floor(.475*F());t&&t.setStep(r-10),n.forEach(function(e){e.style.width=r+"px"})}},m=function(e,t){window.addEventListener("resize",function(){u(p,[e,t],150)}),window.addEventListener("orientationchange",function(){u(p,[e,t],150)})},g=function(e,t){p(e),m(e,t)},h=function(e,t){if("mobile"===i.renderPlatform)var n=Math.floor(.475*F()),r=DM.molFeHorizontalScrollerSlides.init(document.getElementById("fff-carousel-wrap"),{step:n-10,itemsToScroll:2});else{var o=a();new DM.Rotator("fff-carousel-rotator",{activeClass:"active",pageCount:Math.ceil(t[o].relatedProducts.length/d(e)),pageSize:d(e),rotate:!1,scrollDirection:f(e)?"vertical":"horizontal"})}c(t,e,r)};t.exports={createInstance:h}},{}],2:[function(e,t,n){function r(e){if("au"===window.FFF.getPageCriteriaGeo()&&"gb"===e.geo){var t=JSON.parse(window.FFF.currency).gbpToAud;e.price&&(e.price=Math.round(parseFloat(e.price)*t)),e.relatedProducts.forEach(function(e){e.related_price=Math.round(parseFloat(e.related_price)*t)})}return e}function o(e){return window.FFF.env.showFFFHubRelatedBanners&&(e.showFFFHubRelatedBanners=window.FFF.env.showFFFHubRelatedBanners,e.fffHubHost=window.FFF.env.fffHubHost),e=r(e),e.showFFFPartnerLinks=!e||!e.geo||"us"!==e.geo.toLowerCase(),e}function i(e,t,n){function r(){v()&&(c=840),a(e);var r=document.createElement("div");r.innerHTML=M[t],TINY.box.show({boxid:"fff-overlay",innerclass:s,fade:!1,mask:i,animate:!0,html:r.cloneNode(!0),top:(document.documentElement.scrollTop||document.body.scrollTop)+25,width:c,height:550,close:!0,fixed:!1,opacity:50,openjs:function(){f(e,n)},closejs:function(){l()}}),hoverEnabled=!1,n.target&&Array.from(n.target.parentElement.querySelectorAll(".fff-hover-overlay")).forEach(function(e){e.style.display="none"})}var i=!0,s="without-border",c=800;M[t]?r():function(){M[t]=Mustache.render(window.FFF.views.popup,o(e)),M[t]=h(M[t]),r()}()}function a(e){e.absoluteUrl=e.url,e.body=Array.isArray(e.body)?e.body:e.body?e.body.split(/\n+/):[],window.FFF.viewCache[e.url]=e}function l(){TINY.box.closetbox()}function s(e){var t="";if(e.target){var n=e.target.closest("li");n&&(t=Array.from(n.parentElement.childNodes).indexOf(n)+1)}return t}function c(e){e.length&&new DM.Rotator("fff-popup-carousel-rotator",{activeClass:"active",pageCount:Math.ceil(e.length/3),pageSize:3,rotate:!1})}function f(e,t){var n=s(t);if(window.FFF.openOverlayEvent=t,F(e.url,g(t),m(t),n),c(e.relatedProducts),y(e.url,".tbox .fff-popup",m(t),n),I(e.url,".tbox .fff-popup",m(t),n),!r){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://apis.google.com/js/client:plusone.js",document.body.appendChild(r)}}function d(e){return e.productTypes?e.productTypes.sort().join(","):""}function u(e){return e.trends?e.trends.sort().join(","):""}function F(e,t,n,r){var o=window.FFF.viewCache[e];window.FFF.trackFFFImpression(o,t,n,d(o),u(o),r)}function p(e,t,n){window.FFF.trackFFFImpression(e,t,n,d(e),u(e),void 0,"fff not fully loaded")}function m(e){if(e&&e.target){if(e.target.closest(".fff-hottest"))return"hottest";if(e.target.closest(".fff-product-list"))return"product-list";if(e.target.closest(".fff-more-fashion-finds"))return"more-fashion-finds";if(e.target.closest(".fff-trending"))return"trending"}return"article"}function g(e){if(e&&e.target){var t=document.querySelector(".tbox.with-border");if(t&&"none"!==getComputedStyle(t).display)return"mouseover";var n=e.target.closest(".fff-inline"),r=e.target.closest(".fff-m-inline");if(n||r)return n&&!n.classList.contains("fff-partial")||r?"inline":"inline-partial"}return"click"}function h(e){if(v()){var t=document.createElement("div"),n=document.createElement("div");return n.classList.add("overlay-ad"),n.appendChild(document.getElementById("fff_overlay_top").cloneNode(!0)),n.appendChild(document.getElementById("fff_overlay_back").cloneNode(!0)),n.appendChild(document.getElementById("fff_overlay_bottom").cloneNode(!0)),n.querySelector("#fff_overlay_back").innerHTML=e,t.appendChild(n).innerHTML}return e}function v(){return null!==document.getElementById("fff_overlay_top")}function y(e,t,n,r){var o=window.FFF.viewCache[e],i=FFFOverlayHelpers.celebrityOrDefault(o.personName,o),a=FFFOverlayHelpers.mainProductOrDefault(o.productId);b(t,0,i,a),w(t,o,n,r,i,a)}function w(e,t,n,r,o,i){function a(e){var t=e.target.closest("li")&&e.target.closest("li").querySelector("[data-product_id]")&&e.target.closest("li").querySelector("[data-product_id]").getAttribute("data-product_id")||"";window.FFF.trackClickBuyRelated(o,i,t,l,c,e,n,r)}var l=d(t),s=document.querySelector(e+" .fff-related-products"),c=u(t);s&&(s.removeEventListener("click",a),s.addEventListener("click",a))}function E(e){var t=e.target.parentElement.querySelectorAll("li");return t&&t.length&&t[1].getAttribute("data-idx")?Math.ceil(parseInt(t[1].getAttribute("data-idx"),10)/2):0}function b(e,t,n,r){"mobile"===T.renderPlatform?Array.from(document.querySelectorAll(e+" .fff-carousel-control")).forEach(function(e){e.addEventListener("click",function(e){window.FFF.trackClickCarouselArrows(n,r,E(e))})}):(Array.from(document.querySelectorAll(e+" .fff-carousel-control.next")).forEach(function(e){e.addEventListener("click",function(e){e.target.closest(".rotator-next").classList.contains("disabled")||(t++,window.FFF.trackClickCarouselArrows(n,r,t))})}),Array.from(document.querySelectorAll(e+" .fff-carousel-control.previous")).forEach(function(e){e.addEventListener("click",function(e){e.target.closest(".rotator-prev").classList.contains("disabled")||(t--,window.FFF.trackClickCarouselArrows(n,r,t))})}))}function I(e,t,n,r){function o(e){e.target.classList.contains("fff-unclickable")||window.FFF.trackClickBuyMain(s,c,f,F,e,n,r)}function i(e){window.FFF.trackClickBuyAccessory(s,c,e.target.getAttribute("data-product_id"),f,F,e,n)}function a(e){window.FFF.trackClickToAffiliate(s,c,f,F,e,n,e.target.parentElement.getAttribute("title"))}var l=window.FFF.viewCache[e],s=FFFOverlayHelpers.celebrityOrDefault(l.personName,l),c=FFFOverlayHelpers.mainProductOrDefault(l.productId),f=d(l),F=u(l);Array.from(document.querySelectorAll(t+" .fff-main-product")).forEach(function(e){e.removeEventListener("click",o),e.addEventListener("click",o)}),Array.from(document.querySelectorAll(t+" .fff-accessory a")).forEach(function(e){e.removeEventListener("click",i),e.addEventListener("click",i)}),Array.from(document.querySelectorAll(t+" .fff-partners-links li")).forEach(function(e){e.removeEventListener("click",a),e.addEventListener("click",a)})}function C(e,t,n){function r(e){e.target.classList.contains("fff-unclickable")||window.FFF.trackClickBuyMain(o,i,a,l,e,n)}var o=FFFOverlayHelpers.celebrityOrDefault(e.personName,e),i=FFFOverlayHelpers.mainProductOrDefault(e.productId),a=d(e),l=u(e);Array.from(document.querySelector(t+" .fff-main-product")).forEach(function(e){e.removeEventListener("click",r),e.addEventListener("click",r)}),Array.from(document.querySelector(t+" .fff-accessorise a")).forEach(function(e){e.addEventListener("click",function(e){window.FFF.trackClickBuyAccessory(o,i,accessory,a,l,e,n)})})}function A(){Array.prototype.slice.call(document.getElementsByClassName("fff-inline"),1).forEach(function(e){e.style.display="none"})}window.DM||(window.DM={Log:{log:function(){window.console&&console.log&&console.log(arguments)}}}),window.FFF=window.FFF||{},window.FFF.templateCache=window.FFF.templateCache||{},window.FFF.viewCache=window.FFF.viewCache||{};var M=window.FFF.templateCache,T=(e("./carousel"),DM.molFePageMetadata.getPageMetadata());window.FFF.prepareFFFImpression=F,window.FFF.prepareFFFImpressionWhenNoResponse=p,window.FFF.bindCarouselTrackingEvents=y,window.FFF.bindMainProductaAndPartnerLinksTrackingEvents=I,window.FFF.bindTrackingEventsWhenNoResponse=C,window.FFF.hideAllInlinesAfterTheFirstOnMobile=A,window.FFF.onPopupClose=l,window.FFF.onPopupOpen=f,window.FFF.openHubOverlay=function(e,t,n){FFFOverlayHelpers.extendViewData(e),i(e,t,n)},window.FFF.decorateWithExtraInformation=o,window.FFF.fffType=function(e){return g(e)},window.FFF.fffSource=function(e){return m(e)}},{"./carousel":1}]},{},[2]),FFFOverlayHelpers={extendViewData:function(e){e.expired=(new Date).getTime()>e.msExpiryDate,e.getButtonText_FUNC=function(){return e.expired?"Visit site":"Buy now"},e.isPriceBadgeVisible_FUNC=function(){return e.price&&!e.expired?"block":"none"},e.getPrice_FUNC=function(){return e.price},e.getCurrency_FUNC=function(){var e=window.FFF.getPageCriteriaGeo();return"us"===e||"au"===e?"$":"Â£"},e.isPriceMiniBadgeVisible_FUNC=function(){return e.expired?"none":"block"},e.accessoryIndex=0,e.showAccessorise_FUNC=function(){return e.hasAccessorise?"":"hidden"},e.isAccessoryPriceVisible_FUNC_INDEX=function(){var t=Math.floor(e.accessoryIndex);return e.accessories[t].accessoryPrice?"inline-block":"none"},e.isBuyNowButtonVisible_FUNC=function(){return e.productUrl?"block":"none"},e.isAccessoryBuyNowButtonVisible_FUNC_INDEX=function(){var t=Math.floor(e.accessoryIndex);return e.accessoryIndex++,e.accessories[t].accessoryUrl?"block":"none"},e.isAccessoryUrlClickable_FUNC_INDEX=function(){var t=Math.floor(e.accessoryIndex);return e.accessories[t].accessoryUrl?"":"fff-unclickable"},e.isAccessoryDottedLineVisible_FUNC_INDEX=function(){var t=Math.floor(e.accessoryIndex);return e.accessories[t].accessoryUrl||e.accessories[t].accessoryPrice?"block":"none"},e.getProductUrl_FUNC=function(){return e.expired?e.spikedUrl:e.productUrl},e.hasCroppedImage=testProperty(e,"article.cropImages.overlay"),e.hasNoCroppedImage=!e.hasCroppedImage,e.imageUnclickableBehaviour_FUNC=function(){return e.getProductUrl_FUNC()?"":"return false;"},e.imageUnclickableClass_FUNC=function(){return e.getProductUrl_FUNC()?"":" fff-unclickable"},e.relatedIndex=0,e.getRelatedProductUrl_FUNC_INDEX=function(){var t=Math.floor(e.relatedIndex/2);return e.relatedIndex++,e.expired?e.relatedProducts[t].spikedUrl:e.relatedProducts[t].relatedUrl},e.croppedImagesPath=window.FFF.env.croppedImagesPath},celebrityOrDefault:function(e,t){return e||t.articleId},mainProductOrDefault:function(e){return e||"notavailable"}},"undefined"==typeof window&&(module.exports=FFFOverlayHelpers),void 0===window.FFF&&(window.FFF={}),window.FFF.getInlineData=function(){var e=document.getElementsByClassName("fff-inline");if(e.length)return e=e[0],{absoluteUrl:e.getAttribute("data-fff_url"),articleId:e.getAttribute("data-fff_article_id"),articleUrl:e.getAttribute("data-fff_article_url"),body:[e.getAttribute("data-fff_capped_bodys_first_paragraph")],mainTitle:e.getAttribute("data-fff_main_title"),openMainOverlayOnHover:e.getAttribute("data-fff_open_main_overlay_on_hover"),personName:e.getAttribute("data-fff_person_name"),previewTitle:e.getAttribute("data-fff_preview_title"),productId:e.getAttribute("data-fff_product_id"),shareUrl:e.getAttribute("data-fff_share_url"),url:e.getAttribute("data-fff_url")}},window.FFF.getFFFData=function(e){var t=window.FFF.getInlineData()||window.FFF.viewCache[e];return t.articleUrl&&t.articleUrl.startsWith("http://")&&"https:"===window.location.protocol&&(t.articleUrl=window.location.protocol+t.articleUrl.slice(5)),t.articleUrl&&t.articleUrl.startsWith("//")&&(t.articleUrl=window.location.protocol+t.articleUrl),t},window.FFF.postToFB=function(e,t,n){var r=window.FFF.getFFFData(t),o=FFFOverlayHelpers.celebrityOrDefault(r.personName,r),i=FFFOverlayHelpers.mainProductOrDefault(r.productId);window.FFF.trackClickSocial("facebook",o,i,window.FFF.openOverlayEvent||e,n);var a="https://www.facebook.com/dialog/feed?"+DMS.buildUrlParameters({app_id:window.FFF.env.facebookAppId,link:getShareUrl(r.articleUrl,r.url,"facebook_share-fff"),picture:r.absoluteUrl,name:r.mainTitle,caption:"Latest from Femail Fashion Finder",description:r.body[0],redirect_uri:"https://i.dailymail.co.uk/i/pix/facebook/close.html"});window.open(a,"",DMS.getWindowDimensions(1024,600))},window.FFF.postToTWTTR=function(e,t,n){var r=window.FFF.getFFFData(t),o=FFFOverlayHelpers.celebrityOrDefault(r.personName,r),i=FFFOverlayHelpers.mainProductOrDefault(r.productId);window.FFF.trackClickSocial("twitter",o,i,window.FFF.openOverlayEvent||e,n);var a=r.previewTitle||"",l=getShareUrl(r.articleUrl,r.url,"twitter_share-fff"),s=a.length+" ".length+23+" #".length+"FashionFinder".length+" via @".length+"Femail".length;s>140&&(a=a.substr(0,a.length-(s-140)-3)+"...");var c="https://twitter.com/share?"+DMS.buildUrlParameters({url:l,via:"Femail",text:a,related:"Femail,DMAILshowbiz,DailyMailCeleb,MailOnline,DailyMailUS",hashtags:"FashionFinder"});window.open(c,"",DMS.getWindowDimensions(550,470))},window.FFF.postToPinterest=function(e,t,n){var r=window.FFF.getFFFData(t),o=FFFOverlayHelpers.celebrityOrDefault(r.personName,r),i=FFFOverlayHelpers.mainProductOrDefault(r.productId);window.FFF.trackClickSocial("pinterest",o,i,r.openMainOverlayOnHover||e,n),DMS.Pinterest.postToPinterest("fff",{type:"fff",media:t,description:r.mainTitle+" #DailyMail",url:getShareUrl(r.articleUrl,r.url,"pinterest_share-fff")})},window.FFF.postToGPlus=function(e,t,n){var r=window.FFF.getInlineData()||window.FFF.viewCache[t],o=FFFOverlayHelpers.celebrityOrDefault(r.personName,r),i=FFFOverlayHelpers.mainProductOrDefault(r.productId);window.FFF.trackClickSocial("google-plus",o,i,window.FFF.openOverlayEvent||e,n);var a={contenturl:window.FFF.env.fffHost+"/googleplussharing?url="+t,clientid:window.FFF.env.googlePlusId,cookiepolicy:"single_host_origin",prefilltext:"Look what I found with the #FemailFashionFinder... ",calltoactionlabel:"WANT",calltoactionurl:getShareUrl(r.articleUrl,r.url)};gapi.interactivepost.render("googleSharePost",a)},void 0===window.FFF&&(window.FFF={}),s="undefined"==typeof s?{tl:function(){}}:s,window.onfocus=function(){s.modalFocus=new Date},window.FFF.trackFFFImpression=function(e,t,n,r,o,i,a){var l=FFFOverlayHelpers.mainProductOrDefault(e.productId),s=FFFOverlayHelpers.celebrityOrDefault(e.personName,e),c={celebrity:s,mainProduct:l,pageMetaData:DM.molFePageMetadata.getPageMetadata(),fffType:t,fffSource:n,position:i,items:r,trends:o,fffNotFullyLoaded:a};DM.pageEvents.fireEvent(DM.pageEvents.FFF_CONTENT_VIEWED,c),DM.Log.log("fff","fff:FFF_CONTENT_VIEWED event fired with data",c),t.match(/^inline/)||overlayAdImpression()},window.FFF.trackClickSocial=function(e,t,n,r,o){var i={celebrity:t,mainProduct:n,socialSite:e,pageMetaData:DM.molFePageMetadata.getPageMetadata(),fffType:o||window.FFF.fffType(r),fffSource:window.FFF.fffSource(r)};DM.pageEvents.fireEvent(DM.pageEvents.FFF_SOCIAL_CLICKED,i),DM.Log.log("fff","fff:FFF_SOCIAL_CLICKED event fired with data",i)},window.FFF.trackClickBuyMain=function(e,t,n,r,o,i,a){var l={celebrity:e,mainProduct:t,items:n,trends:r,fffType:window.FFF.fffType(o),fffSource:i,position:a,pageMetaData:DM.molFePageMetadata.getPageMetadata()};DM.pageEvents.fireEvent(DM.pageEvents.FFF_BUY_MAIN_CLICKED,l),DM.Log.log("fff","fff:FFF_BUY_MAIN_CLICKED event fired with data",l)},window.FFF.trackClickBuyRelated=function(e,t,n,r,o,i,a,l){var s={celebrity:e,mainProduct:t,relatedProduct:n,items:r,trends:o,fffType:window.FFF.fffType(i),fffSource:a,position:l,pageMetaData:DM.molFePageMetadata.getPageMetadata()};DM.pageEvents.fireEvent(DM.pageEvents.FFF_BUY_RELATED_CLICKED,s),DM.Log.log("fff","fff:FFF_BUY_RELATED_CLICKED event fired with data",s)},window.FFF.trackClickBuyAccessory=function(e,t,n,r,o,i,a,l){var s={celebrity:e,mainProduct:t,accessoryProduct:n,items:r,trends:o,fffType:window.FFF.fffType(i),fffSource:a,position:l,pageMetaData:DM.molFePageMetadata.getPageMetadata()};DM.pageEvents.fireEvent(DM.pageEvents.FFF_BUY_ACCESSORY_CLICKED,s),DM.Log.log("fff","fff:FFF_BUY_ACCESSORY_CLICKED event fired with data",s)},window.FFF.trackClickCarouselArrows=function(e,t,n){var r={celebrity:e,mainProduct:t,depth:n};DM.pageEvents.fireEvent(DM.pageEvents.FFF_CAROUSEL_CLICKED,r),DM.Log.log("fff","fff:FFF_CAROUSEL_CLICKED event fired with data",r)},window.FFF.trackClickToFFFHub=function(e){var t={bannerMode:e};DM.pageEvents.FFF_LINK_TO_HUB_CLICKED&&DM.pageEvents.fireEvent(DM.pageEvents.FFF_LINK_TO_HUB_CLICKED,t),DM.Log.log("fff","fff:FFF_LINK_TO_HUB_CLICKED event fired with data",t)},window.FFF.trackClickToFFFArticle=function(e){var t={articleId:e};DM.pageEvents.FFF_LINK_TO_ARTICLE_CLICKED&&DM.pageEvents.fireEvent(DM.pageEvents.FFF_LINK_TO_ARTICLE_CLICKED,t),DM.Log.log("fff","fff:FFF_LINK_TO_ARTICLE_CLICKED event fired with data",t)},window.FFF.trackClickToAffiliate=function(e,t,n,r,o,i,a){var l={celebrity:e,mainProduct:t,items:n,trends:r,fffType:window.FFF.fffType(o),fffSource:i,affiliate:a,pageMetaData:DM.molFePageMetadata.getPageMetadata()};DM.pageEvents.FFF_LINK_TO_AFFILIATE_CLICKED&&DM.pageEvents.fireEvent(DM.pageEvents.FFF_LINK_TO_AFFILIATE_CLICKED,l),DM.Log.log("fff","fff:FFF_AFFILIATE_CLICKED event fired with data",l)},void 0===window.FFF&&(window.FFF={});var setScrollTop=window.DM&&window.DM.molFeDomHelpers&&window.DM.molFeDomHelpers.scrollUtils&&window.DM.molFeDomHelpers.scrollUtils.setScrollTop;window.FFF.addProductButton=function(){var e,t=window.FFF.env.editorHost,n=function(){var e=window.location.hash.match(/#(.*)/);e&&"y"==window.FFF.getParameterFromUrl("openEditor")&&a(e[1],null)},r=function(e){var t=e.wheelDelta||-e.detail;setScrollTop&&setScrollTop(e.target,e.target.scrollTop+30*(t<0?1:-1)),e.preventDefault()},o=function(){var n=document.querySelector("#fff-editor iframe");if(n){var o=n.contentWindow,i=0,a=setInterval(function(){if(i++>=10||e)return clearInterval(a),void(e=!1);o.postMessage({hello:!0,fff:!0},t)},500);Array.from(document.querySelectorAll(".tinner iframe")).forEach(function(e){e.addEventListener("mousewheel",r),e.addEventListener("DOMMouseScroll",r)})}},i=function(){var e=document.querySelector("#fff-editor iframe");if(e){e.contentWindow.postMessage({close_editor:!0,timeoutId:n,fff:!0},t)}var n=setTimeout(function(){TINY.box.closetbox()},2e3)};window.addEventListener("message",function(t){if("object"==typeof t&&t.data.fff){if(clearTimeout(t.data.timeoutId),t.data.closeWindow)if(t.data.unsaved_changes){var n=confirm("You have unsaved changes which would be lost. Do you want to continue? \n Press cancel to abort.");n&&TINY.box.closetbox()}else TINY.box.closetbox();t.data.reload&&window.FFF.init(),t.data.helloAck&&(e=!0)}});var a=function(e,n){n&&n.stopPropagation();var r={host:window.location.host,hostname:window.location.hostname,href:window.location.href,pathname:window.location.pathname,port:window.location.ports,imageUrl:e,pageCriteriaGeo:window.FFF.getPageCriteriaGeo(),articleId:window.FFF.getPageCriteriaArticleId()},a=window.innerHeight-80,l=t+"/admin/main?data="+encodeURIComponent(JSON.stringify(r));TINY.box.show({boxid:"fff-editor",iframe:l,width:1300,height:a,close:!0,opacity:50,fixed:!0,animate:!0,openjs:o,closejs:i})};Array.from(document.querySelectorAll("img.blkBorder")).forEach(function(e){e.parentElement.classList.add("fff-admin"),e.parentElement.insertAdjacentHTML("beforeend",'<div class="fff-control-box-hover"></div><a class="fff-control-box fff-control-add-product" href="javascript:void(0)">Add Product</a>')}),
Array.from(document.querySelectorAll(".fff-control-box-hover, .fff-control-box")).forEach(function(e){e.addEventListener("mouseenter",function(e){Array.from(e.target.parentElement.getElementsByClassName("fff-control-box")).forEach(function(e){e.style.display="block"})}),e.addEventListener("mouseleave",function(e){Array.from(e.target.parentElement.getElementsByClassName("fff-control-box")).forEach(function(e){e.style.display="none"})})}),Array.from(document.getElementsByClassName("fff-control-add-product")).forEach(function(e){e.addEventListener("click",function(e){var t=e.target.closest(".fff-admin");if(t){var n=t.querySelector(".blkBorder");n&&a(n.getAttribute("src"),e)}})}),setTimeout(function(){n()},1e3)};var fff=window.FFF,resetScrollHack,currentTop,isAndroidBrowser42x=-1!==navigator.userAgent.search(/Android 4\.[23456789].*Chrome\/[1]/i),stickyBanner,popup,scrollUtils=window.DM&&window.DM.molFeDomHelpers&&window.DM.molFeDomHelpers.scrollUtils,pageMetadata=DM.molFePageMetadata.getPageMetadata(),displayIcon=function(e,t,n){var r=!1;if(n){var o=function(){var t=document.querySelector('img[data-src="'+e.url+'"]');return t||document.querySelector('img[src="'+e.url+'"]')}();o&&(r=function(n){function r(){_displayPopup(e,e.url,t)}return n.parentElement.querySelector(".fff-hover-icon").addEventListener("click",r),n&&n.length>0}(function(n){var r=document.createElement("div");return r.classList.add("fff-hover-icon"),r.classList.add("fff-m-hover-icon"),r.innerHTML=t.render(fff.views.overlay,e),r.setAttribute("data-id",e.url),n.insertAdjacentElement("afterend",r)}(function(e){var t=e.parentElement.parentElement.querySelector(".fff-pic");return"FIGURE"===t.nodeName&&(t=e),t}(o))))}return r},_displayPopup=function(e,t,n){if(popup||(popup=document.createElement("div"),popup.setAttribute("id","fff-popup"),document.body.appendChild(popup)),!fff.templateCache[t]){var r="",o=document.getElementsByClassName("fff-accessorise");o.length&&(r=o[0].innerHTML),fff.templateCache[t]=n.render(fff.views.popup,fff.decorateWithExtraInformation(e),{accessoriseNativeAd:r})}_showPopup(e,t)},displayPopup=function(e,t,n){_displayPopup(fff.viewCache[t],t,n)},_showPopup=function(e,t){navigator.userAgent.match(/msie/i)||document.documentElement.classList.add("noscroll"),scrollUtils.getScrollTop&&(currentTop=scrollUtils.getScrollTop(document.documentElement)),isAndroidBrowser42x&&(resetScrollHack=setInterval(function(){var e;scrollUtils.getScrollTop&&(e=scrollUtils.getScrollTop(document.documentElement)),0!==e&&scrollUtils.scrollTo&&scrollUtils.scrollTo(0,0)},800)),popup.innerHTML=fff.templateCache[t],setScrollTop(popup,0),Array.from(popup.querySelectorAll(".fff-back, .fff-close")).forEach(function(e){e.addEventListener("click",_closePopup)}),popup.classList.add("active"),stickyBanner||(stickyBanner=document.getElementById("stickyBanner")),stickyBanner.classList.toggle("sticky-disabled"),fff.trackFFFImpression(e,"click","article",e.productTypes?e.productTypes.sort().join(","):"",e.trends?e.trends.sort().join(","):"",""),fff.bindCarouselTrackingEvents(e.url,".fff-m-popup","article"),fff.bindMainProductaAndPartnerLinksTrackingEvents(e.url,".fff-m-popup","article")},_closePopup=function(){isAndroidBrowser42x&&clearInterval(resetScrollHack),scrollUtils.scrollTo&&scrollUtils.scrollTo(0,currentTop),stickyBanner.classList.toggle("sticky-disabled"),navigator.userAgent.match(/msie/i)||document.documentElement.classList.remove("noscroll"),popup.classList.remove("active"),fff.isOverlayOpen=!1};const lazyLoadImages=function(e){e.forEach(function(e){const t=e.querySelector("img[data-src]");!t||t.getAttribute("src")&&"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"!==t.getAttribute("src")||t.setAttribute("src",t.getAttribute("data-src"))})};var expandMobileInline=function(){Array.from(document.getElementsByClassName("fff-read-more")).forEach(function(e){e.classList.add("hidden")}),Array.from(document.getElementsByClassName("fff-m-expandable")).forEach(function(e){e.classList.remove("hidden")}),lazyLoadImages(Array.from(document.querySelectorAll(".fff-carousel-item")).slice(1,3))},hideAllInlinesAfterTheFirstOnMobile=function(){Array.prototype.slice.call(document.getElementsByClassName("fff-m-inline"),1).forEach(function(e){e.style.display="none"})};"mobile"===pageMetadata.renderPlatform&&(fff.templateCache=fff.templateCache||{},fff.templatesPath="/mobile/templates",fff.imgSelector="img[id^=i-]",fff.displayIcon=displayIcon,fff.displayPopup=displayPopup,fff.expandMobileInline=expandMobileInline,fff.hideAllInlinesAfterTheFirstOnMobile=hideAllInlinesAfterTheFirstOnMobile),function(){function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){return o(t[a][1][e]||e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){var r,o=window.FFF.getFFFInlineTrackingMetadata(),i=DM.molFePageMetadata.getPageMetadata(),a=function(){return o.fffInline.getAttribute("data-fff_url")},l=function(e){var t=a();o&&e[t]&&window.FFF.bindCarouselTrackingEvents(t,o.selector,"article")},s=function(){Array.from(document.getElementsByClassName("loader")).forEach(function(e){e.classList.add("hidden")}),Array.from(document.getElementsByClassName("fff-carousel-with-controls")).forEach(function(e){e.classList.remove("hidden")})},c=function(e,t,n){"mobile"===i.renderPlatform&&g(t,n),l(e),s()},f=function(e){return null!==e.closest(".fff-inline.fff-xwide")},d=function(e){return f(e)||"mobile"===i.renderPlatform?2:3},u=function(e,t,n){function o(e,t){e.apply(null,t),r=null}r&&clearTimeout(r),r=setTimeout(function(){o(e,t)},n)},F=function(){var e=document.querySelector(".fff-m-inline.fff-m-popup");return e?parseInt(getComputedStyle(e).width,10):0},p=function(e,t){if(e){var n=e.querySelectorAll("li"),r=Math.floor(.475*F());t&&t.setStep(r-10),n.forEach(function(e){e.style.width=r+"px"})}},m=function(e,t){window.addEventListener("resize",function(){u(p,[e,t],150)}),window.addEventListener("orientationchange",function(){u(p,[e,t],150)})},g=function(e,t){p(e),m(e,t)},h=function(e,t){if("mobile"===i.renderPlatform)var n=Math.floor(.475*F()),r=DM.molFeHorizontalScrollerSlides.init(document.getElementById("fff-carousel-wrap"),{step:n-10,itemsToScroll:2});else{var o=a();new DM.Rotator("fff-carousel-rotator",{activeClass:"active",pageCount:Math.ceil(t[o].relatedProducts.length/d(e)),pageSize:d(e),rotate:!1,scrollDirection:f(e)?"vertical":"horizontal"})}c(t,e,r)};t.exports={createInstance:h}},{}],2:[function(e,t,n){var r=e("./carousel");void 0===window.FFF&&(window.FFF={});var o=function(e){return{personName:e.getAttribute("data-fff_person_name"),productId:e.getAttribute("data-fff_product_id"),productTypes:e.getAttribute("data-fff_product_types")?e.getAttribute("data-fff_product_types").split(","):[],trends:e.getAttribute("data-fff_trends")?e.getAttribute("data-fff_trends").split(","):[],articleId:e.getAttribute("data-fff_article_id")}},i=function(){var e=window.FFF.getFFFInlineTrackingMetadata();if(e){var t=o(e.fffInline);window.FFF.bindTrackingEventsWhenNoResponse(t,e.selector,"article"),window.FFF.prepareFFFImpressionWhenNoResponse(t,e.type,"article")}},a=function(){var e=document.getElementsByClassName("fff-carousel");return e&&e.length&&e[0]},l=function(e){var t=a();t&&t.querySelector("li")&&r.createInstance(t,e)};t.exports={bindEventsAndRegisterImpressionWhenNoResponse:i,initialiseCarousel:l}},{"./carousel":1}],3:[function(e,t,n){!function(t,n){function r(e){function n(t){var n=document.createElement("div");n.innerHTML=t,document.body.appendChild(n),adverts&&adverts.addToArray({id:"fff-overlay-accessorise-ad",type:"632x132",pos:"native_fff_overlay_accessorise",FFFtype:"overlay",fff:!0}),e()}if(!document.getElementsByClassName("fff-accessorise").length){var r=t.FFF.env.accessoriseNativeAdUrl;if(r){var o=new XMLHttpRequest,i=!1;o.open("GET",r),o.onreadystatechange=function(){o.readyState>3&&(o.status>=200&&o.status<300?n(o.responseText):i||(i=!0,console.log("There was an error while getting overlay accessorise native ad, error",o.status,o.statusText)))},o.onerror=function(){i||(i=!0,console.log("There was an error while getting overlay accessorise native ad, error",o.status,o.statusText))},o.send(null)}else console.log("There was an error while getting overlay accessorise native ad, error (url undefined)")}}var o=e("./inline"),i=e("./requestHelper");void 0===t.FFF&&(t.FFF={}),t.FFF.getFFFHost=function(){return t.FFF.isPreviewMode&&t.FFF.env.fffPreviewHost?t.FFF.env.fffPreviewHost:t.FFF.env.fffHost},t.FFF.currency||i.get(t.FFF.getFFFHost()+"/currencyExchangeRate",function(e){t.FFF.currency=e},function(){t.FFF.currency=JSON.stringify(t.FFF.env.currency.defaults)}),t.FFF.iconHeight=61,t.FFF.iconWidth=60,t.FFF.iconBorder=10,t.FFF.openOverlayHoverDelay=1e3,t.FFF.isOverlayOpen=!1,t.FFF.templatesPath=t.FFF.templatesPath||"/templates",t.FFF.imgSelector=t.FFF.imgSelector||"img.blkBorder";var a,l=DM.molFePageMetadata.getPageCriteria(),s=DM.molFePageMetadata.getPageMetadata(),c=t.DM&&t.DM.molFeDomHelpers&&t.DM.molFeDomHelpers.scrollUtils&&t.DM.molFeDomHelpers.scrollUtils.scrollTo;t.FFF.getParameterFromUrl=function(e){if(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(t.location.search))return decodeURIComponent(e[1])},t.FFF.viewCache={},t.FFF.init=function(e){function i(e){if("block"===t.getComputedStyle(e.parentElement).display)return e.parentElement;i(e.parentElement)}function f(e){Array.from(document.querySelectorAll(t.FFF.imgSelector)).forEach(function(e){var t=i(e);t&&t.classList.add("fff-pic")}),e()}function d(e){return t.FFF.getFFFHost()+"/products?articleId="+e+t.FFF.getGeoUrlParameter(t.FFF.getPageCriteriaGeo())}function u(){if(!t.FFF.getParameterFromUrl("openEditor")){var e=t.location.hash.match(/#(.*)/);if(e){var r=e[1],o=document.querySelector(t.FFF.imgSelector+'[data-src="'+r+'"], '+t.FFF.imgSelector+'[src="'+r+'"]');if(o){var i=o.getBoundingClientRect().top;c(0,i),setTimeout(function(){t.FFF.displayPopup({type:"mock",stopPropagation:function(){}},r,n)},100)}}}}function F(){adsRenderer&&adsRenderer.requestDelayedAdvert&&adsRenderer.requestDelayedAdvert("fff-overlay-accessorise-ad")}function p(e,n){if("undefined"!=typeof adsRenderer&&e.length){var o=document.createElement("div"),i=e.map(function(e){return e.personName}).filter(function(e,t,n){return n.indexOf(e)===t});o.id="fff_overlay",document.body.appendChild(o),adsRenderer.addLoadListener(F),adverts.addToArray({id:o.id,type:"964x114",pos:"fff",extraZoneOptions:{FFFtype:"overlay",FFFname:i,fff:!0},command:"pfadj",dcopt:!0}),r(F)}e.forEach(function(e){e&&(FFFOverlayHelpers.extendViewData(e),m(e))}),f(function(){g(),u(),t.addEventListener("hashchange",u,!1),n()})}function m(e){var t=h(e.url);t&&t.length&&(e.absoluteUrl=t.get(0).src,e.body=Array.isArray(e.body)?e.body:e.body?e.body.split(/\n+/):[]),T[e.url]=e}function g(){var e,r=!1,o=[];for(var i in T){var a=T[i];"live"===a.status&&function(){return a.image&&a.relatedProducts&&a.relatedProducts.length&&a.body.length}()&&(e=t.FFF.displayIcon(a,n),function(){"mobile"===s.renderPlatform&&(a.usedAsInline||o.push(a),a.usedAsInline&&(r=!0))}())}!function(){if("mobile"===s.renderPlatform&&!r&&o.length)for(var i=0;i<o.length&&!e;)e=t.FFF.displayIcon(o[i],n,!0),i++}()}function h(e){var n=document.querySelector(t.FFF.imgSelector+'[data-src="'+e+'"]');return n||document.querySelector(t.FFF.imgSelector+'[src="'+e+'"]')}function v(e){if(e)try{e.stopPropagation(),e.preventDefault()}catch(e){}}function y(e,n){function r(e){v(e),T[n].openMainOverlayOnHover&&!l.isTablet?a=setTimeout(function(){t.FFF.displayPopup(e,n)},t.FFF.openOverlayHoverDelay):t.FFF.displayPopup(e,n)}function o(){f.style.display="block"}function i(){f.style.display="none"}function s(){clearTimeout(a),b()}function c(e){t.FFF.displayPopup(e,n)}if(e){var f=e.querySelector(".fff-hover-overlay");l.isTablet?(e.removeEventListener("click",r),e.addEventListener("click",r)):T[n].openMainOverlayOnHover?(e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",s),e.removeEventListener("click",v),e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",s),e.addEventListener("click",v)):(e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",i),f.removeEventListener("click",c),e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",i),f.addEventListener("click",c))}}function w(){t.FFF.onPopupClose(),M=!0,t.FFF.isOverlayOpen=!1;var e=document.querySelector(".tbox");e&&e.removeEventListener("mouseleave",b)}function E(e,n){if(t.FFF.onPopupOpen(e,n),e.openMainOverlayOnHover){var r=document.querySelector(".tbox");r&&(r.removeEventListener("mouseleave",b),r.addEventListener("mouseleave",b))}}function b(){setTimeout(function(){I()||M||w()},10)}function I(){var e=document.querySelector(".tbox");return e&&"10px"==getComputedStyle(e)["min-width"]}function C(e,t){p(e,t)}function A(e,t){if(_>=5)return o.bindEventsAndRegisterImpressionWhenNoResponse(),void o.initialiseCarousel(T);if(_++,e){var n=new XMLHttpRequest,r=!1;n.open("GET",e),n.onreadystatechange=function(){n.readyState>3&&(n.status>=200&&n.status<300?C(JSON.parse(n.responseText),t):r||(r=!0,console.log("Error while getting products",_,n.status,n.statusText),setTimeout(function(){A(e,t)},200)))},n.onerror=function(){r||(r=!0,console.log("Error while getting products",_,n.status,n.statusText),setTimeout(function(){A(e,t)},200))},n.send(null)}else console.log("Error while getting products (url undefined)")}var M=!0,T=t.FFF.viewCache,k=t.FFF.templateCache={};if(function(){Array.from(document.getElementsByClassName("fff-hover-icon")).forEach(function(e){e.parentNode.removeChild(e)})}(),e)return void g();t.FFF.displayIcon=t.FFF.displayIcon||function(e){var r=h(e.url);if(r){var o=document.createElement("div");if(o.classList.add("fff-hover-icon"),o.setAttribute("data-id",e.url),l.isTablet)o.classList.add("tablet"),o.innerHTML='<img src="https://i.dailymail.co.uk/i/furniture/fff/fff-hover-ipad.png" alt="Edit"/>';else{var i=n.render(t.FFF.views.overlay,e);o.innerHTML='<img src="https://i.dailymail.co.uk/i/furniture/fff/fff-hover.png" alt="Edit"/>'+i}r.parentNode.appendChild(o),y(r.parentElement.querySelector(".fff-hover-icon"),e.url)}},t.FFF.displayPopup=t.FFF.displayPopup||function(e,r){function o(){document.getElementById("fff_overlay_top")&&(s=840);var t=document.createElement("div");t.innerHTML=k[r],TINY.box.show({boxid:"fff-overlay",innerclass:a,fade:!1,mask:i,animate:!0,html:t.cloneNode(!0),top:(document.documentElement.scrollTop||document.body.scrollTop)+25,width:s,height:550,close:!0,fixed:!1,opacity:50,openjs:function(){E(c,e)},closejs:function(){w()}}),M=!1,e.target&&Array.from(e.target.parentElement.querySelectorAll(".fff-hover-overlay")).forEach(function(e){e.style.display="none"})}if(v(e),!t.FFF.isOverlayOpen){t.FFF.isOverlayOpen=!0;var i=!0,a="without-border",s=800,c=T[r];c.relatedIndex=0,c.accessoryIndex=0,c.openMainOverlayOnHover&&!l.isTablet&&(i=!1,a="with-border"),k[r]?o():function(){var e="",i=document.getElementsByClassName("fff-accessorise");i.length&&(e=i[0].innerHTML),k[r]=n.render(t.FFF.views.popup,t.FFF.decorateWithExtraInformation(c),{accessoriseNativeAd:e});var a=document.getElementById("fff_overlay_top");if(a){var l=document.createElement("div"),s=document.createElement("div"),f=document.getElementById("fff_overlay_back"),d=document.getElementById("fff_overlay_bottom");s.classList.add("overlay-ad"),s.appendChild(a.cloneNode(!0)),f&&s.appendChild(f.cloneNode(!0)),d&&s.appendChild(d.cloneNode(!0)),s.querySelector("#fff_overlay_back").innerHTML=k[r],l.appendChild(s),k[r]=l.innerHTML}o()}()}};var _=0;!function(e){var t=document.location.href.match(/article-(\d+)/);t&&t.length>1&&A(d(t[1]),e)}(function(){var e=t.FFF.getFFFInlineTrackingMetadata();e&&(t.FFF.bindMainProductaAndPartnerLinksTrackingEvents(e.fffInline.getAttribute("data-fff_url"),e.selector,"article"),t.FFF.prepareFFFImpression(e.fffInline.getAttribute("data-fff_url"),e.type,"article"),o.initialiseCarousel(T))})},void 0!==t.FFF.env&&(!function(){t.FFF.ad||(t.FFF.ad={inline:{adCallback:null}}),t.FFF.ad.inline.adCallback=t.FFF.ad.inline.adCallback||function(e,t){function n(e){return e==="fff"+t+"_back"||e==="fff"+t+"_back_wide"}var r,o;t?(t="_"+t.replace(/^_/g,""),r=document.getElementById("fff"+t)&&document.getElementById("fff"+t).firstChild):(r=document.getElementById("fff-inline"),t=""),o=function(){return document.getElementById("fff"+t+"_back")||document.getElementById("fff"+t+"_back_wide")}(),function(){return e&&"string"==typeof e&&!o}()&&r&&function(){var i,a,l=document.createElement("div"),s=0;for(l.innerHTML=e,a=l.childNodes,s=a.length;s--;)(i=a[s])&&"DIV"===i.tagName&&(r.parentNode.insertBefore(i,r.nextSibling),n(i.id)&&(o=i));a.length&&!t&&((document.getElementById("fff")||{style:{}}).style.display="none",(document.getElementById("fff-oop")||{style:{}}).style.display="none")}(),o&&!t&&o.appendChild(r),setTimeout(function(){DM.onDocReady(function(){AdImpression.registerImpression(document.getElementById("fff"),function(){DM.Log.log("ad impression registered")})})},50)}}(),t.FFF.env.previewHostNames.indexOf(t.location.hostname)>-1&&(t.FFF.isPreviewMode=!0),function(e){t.FFF.views||(t.FFF.views={});var n=0,r=function(e,t){if(n>=5)return o.bindEventsAndRegisterImpressionWhenNoResponse(),void o.initialiseCarousel({});if(n++,e){var i=new XMLHttpRequest,a=!1;i.open("GET",e),i.onreadystatechange=function(){i.readyState>3&&(i.status>=200&&i.status<300?t(JSON.parse(i.responseText)):a||(a=!0,console.log("Retrying to get the templates, after error",n,i.status,i.statusText),setTimeout(function(){r(e,t)},200)))},i.onerror=function(){a||(a=!0,console.log("Retrying to get the templates, after error",n,i.status,i.statusText),setTimeout(function(){r(e,t)},200))},i.send(null)}else console.log("Error getting the templates (url undefined)")};r(t.FFF.getFFFHost()+t.FFF.templatesPath+"/"+t.FFF.env.beAppVersion,function(n){t.FFF.views.popup=n.popup,t.FFF.views.overlay=n.overlay,e()})}(function(){t.FFF.init(!1),l.isTablet&&t.addEventListener("orientationchange",function(){t.FFF.init(!0)}),-1==navigator.userAgent.indexOf("MSIE")&&t.FFF.isPreviewMode&&(t.FFF.public||t.FFF.addProductButton(t.jQuery))}),function(){Array.from(document.querySelectorAll(".product-loader")).forEach(function(e){e.classList.add("hidden")}),Array.from(document.querySelectorAll(".fff-orig-product-image")).forEach(function(e){e.classList.remove("hidden")}),Array.from(document.querySelectorAll(".fff-inline-image-container")).forEach(function(e){e.classList.remove("hidden")})}(),t.FFF.hideAllInlinesAfterTheFirstOnMobile())}(window,Mustache)},{"./inline":2,"./requestHelper":4}],4:[function(e,t,n){function r(e,t,n){var r=new XMLHttpRequest,o=!1;r.open("GET",e),r.onreadystatechange=function(){r.readyState>3&&(r.status>=200&&r.status<300?t(r.responseText):o||(o=!0,console.log("Error while sending GET request to "+e+", status code "+r.status+", status text"+r.statusText),n()))},r.onerror=function(){o||(o=!0,console.log("Error while sending GET request to "+e+", status code "+r.status+", status text"+r.statusText),n())},r.send(null)}t.exports={get:r}},{}]},{},[3]);
//# sourceMappingURL=overlay.js.map
